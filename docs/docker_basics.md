# **Официальная спецификация Docker Compose (Выдержка)**

## **1. Базовая структура**

Файл docker-compose.yml всегда начинается с определения сервисов в блоке `services`.

Синтаксис версии 3.8 и выше не требует указания поля `version`.

## **2. Веб-сервер Nginx**

Для развертывания Nginx рекомендуется использовать официальный образ `nginx:alpine` для экономии ресурсов.

Обязательно нужно пробрасывать порты (ports). Обычно это `"80:80"`.

Синтаксис:

```yaml
services:
    web:
        image: nginx:alpine
        ports:
            - "80:80"
```

## **3. База данных PostgreSQL**

Для базы данных PostgreSQL необходимо использовать образ `postgres:15-alpine`.

Обязательные переменные окружения (environment): `POSTGRES_USER`, `POSTGRES_PASSWORD`, `POSTGRES_DB`.

Для сохранения данных (чтобы они не пропали при перезапуске) нужно обязательно подключать тома (volumes), например `/var/lib/postgresql/data`.

## **4. Сети (Networks)**

Все сервисы в одном docker-compose файле по умолчанию находятся в одной сети и могут обращаться друг к другу по имени сервиса (например, `http://web` или `http://db`).
